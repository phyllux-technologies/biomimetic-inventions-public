<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vault — Phyllux Backstage</title>
  <meta name="robots" content="noindex, nofollow" />
  <link rel="icon" href="assets/favicon.jpg" type="image/jpeg" />
  <style>
    :root { --bg:#050508; --fg:#f0f4f8; --muted:#94a3b8; --accent:#5eead4; --line:rgba(30,41,59,0.6); --radius:8px; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: Inter, sans-serif; background: var(--bg); color: var(--fg); padding: 1rem; }
    h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
    .subtitle { font-size: 0.875rem; color: var(--muted); margin-bottom: 1.5rem; }
    .vault-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem; }
    .vault-item { border: 1px solid var(--line); border-radius: var(--radius); overflow: hidden; background: rgba(12,15,20,0.5); }
    .vault-item img { width: 100%; height: 180px; object-fit: cover; display: block; }
    .vault-item figcaption { padding: 0.5rem; font-size: 0.75rem; color: var(--muted); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .back { display: inline-block; margin-bottom: 1rem; color: var(--accent); font-size: 0.875rem; }
    .back:hover { text-decoration: underline; }
    .section-title { font-size: 1rem; color: var(--muted); margin: 2rem 0 0.75rem; }
    #vault-locked { max-width: 400px; margin: 4rem auto; text-align: center; }
    #vault-locked h1 { font-size: 1.25rem; margin-bottom: 1rem; }
    #vault-locked p { color: var(--muted); margin-bottom: 1.5rem; }
    .vault-form { margin: 1.5rem 0; }
    .vault-form input { background: rgba(12,15,20,0.8); border: 1px solid var(--line); border-radius: var(--radius); padding: 0.75rem 1rem; color: var(--fg); font-size: 1rem; width: 100%; max-width: 280px; }
    .vault-form input:focus { outline: none; border-color: var(--accent); }
    .vault-form button { margin-top: 0.75rem; padding: 0.6rem 1.5rem; background: var(--accent); color: var(--bg); border: none; border-radius: var(--radius); font-weight: 600; cursor: pointer; font-size: 0.9rem; }
    .vault-form button:hover { opacity: 0.9; }
    .vault-err { color: #f87171; font-size: 0.875rem; margin-top: 0.5rem; }
  </style>
</head>
<body>
<div id="vault-locked">
  <a href="index.html" class="back">← Back to Phyllux</a>
  <h1>Vault Locked</h1>
  <p>Backstage. Drafts. Iterations. Enter the key to peek behind the curtain.</p>
  <form class="vault-form" id="vault-form" onsubmit="return false;">
    <input type="password" id="vault-key" placeholder="Enter key…" autocomplete="off" autofocus />
    <br /><button type="submit">Unlock</button>
    <p class="vault-err" id="vault-err" style="display:none;">Wrong key. Try again.</p>
  </form>
  <p style="font-size:0.75rem;opacity:0.6;">Hint: golden angle, spirals, nature.</p>
</div>

<div id="vault-content" style="display:none;">
<a href="index.html" class="back">← Back to Phyllux</a>
<h1>Vault</h1>
<p class="subtitle">Backstage. Drafts. Iterations. Things we don't lead with — but you found the key.</p>

<div class="section-title">Vault-exclusive (drafts, WIP, experiments)</div>
<div class="vault-grid" id="vault-exclusive"></div>

<div class="section-title">Internal & placeholders</div>
<div class="vault-grid" id="vault-internal"></div>

<div class="section-title">Extended backstage (alternates, iterations, experiments)</div>
<div class="vault-grid" id="vault-extended"></div>

<div class="section-title">Full catalog</div>
<div id="vault-all"></div>
</div>

<script>
(function() {
  const STORAGE_KEY = 'phyllux_vault_unlocked';
  const PASSWORD = 'phyllotactic';

  function isUnlocked() { return sessionStorage.getItem(STORAGE_KEY) === '1'; }

  function showContent() {
    document.getElementById('vault-locked').style.display = 'none';
    document.getElementById('vault-content').style.display = 'block';
    document.title = 'Vault — Phyllux Backstage';
  }

  if (isUnlocked()) { showContent(); initVault(); } else {
    document.getElementById('vault-form').addEventListener('submit', function() {
      const key = document.getElementById('vault-key').value.trim().toLowerCase();
      if (key === PASSWORD) {
        sessionStorage.setItem(STORAGE_KEY, '1');
        showContent();
        initVault();
      } else {
        document.getElementById('vault-err').style.display = 'block';
        document.getElementById('vault-key').value = '';
        document.getElementById('vault-key').focus();
      }
      return false;
    });
  }

  function initVault() {
  const exclusive = [
    'assets/marketing/vault-draft-phi-600x400.jpg',
    'assets/marketing/vault-wip-wave-600x400.jpg',
    'assets/marketing/vault-scrapped-concept-600x400.jpg',
    'assets/marketing/vault-iteration-v3-600x400.jpg',
    'assets/marketing/vault-raw-mesh-600x400.jpg',
    'assets/marketing/vault-brainstorm-600x400.jpg',
    'assets/marketing/vault-internal-only-600x400.jpg',
    'assets/marketing/vault-prototype-01-600x400.jpg',
    'assets/marketing/vault-late-night-600x400.jpg'
  ];
  const internal = [
    'assets/marketing/testimonial-placeholder-card.jpg',
    'assets/marketing/blog-header-template-1200x400.jpg',
    'assets/marketing/blog-header-creator-notes-1200x400.jpg',
    'assets/marketing/video-thumbnail-template-1280x720.jpg',
    'assets/marketing/launch-announcement-template-1200x630.jpg'
  ];
  const extended = [
    'assets/marketing/icon-chain.jpg','assets/marketing/icon-create.jpg','assets/marketing/icon-design.jpg','assets/marketing/icon-pipeline.jpg','assets/marketing/icon-projects.jpg',
    'assets/marketing/bg-pattern.jpg','assets/marketing/newsletter-header-600x200.jpg'
  ];

  function renderGrid(containerId, paths) {
    const el = document.getElementById(containerId);
    if (!el) return;
    paths.forEach(function(p) {
      const name = p.split('/').pop().replace(/\.[^.]+$/, '').replace(/[-_]/g, ' ');
      const fig = document.createElement('figure');
      fig.className = 'vault-item';
      fig.innerHTML = '<img src="' + p + '" alt="" loading="lazy" onerror="this.parentElement.remove()">' +
        '<figcaption>' + name + '</figcaption>';
      el.appendChild(fig);
    });
  }

  renderGrid('vault-exclusive', exclusive);
  renderGrid('vault-internal', internal);
  renderGrid('vault-extended', extended);

  document.getElementById('vault-all').innerHTML = '<p style="color:var(--muted);font-size:0.875rem;">David photos live in the <a href="gallery.html" style="color:var(--accent);">Gallery</a>. This vault surfaces drafts, templates, internal iterations, and alternates we keep off the main pages.</p>';
  }
})();
</script>
<script src="assets/image-lightbox.js"></script>
</body>
</html>
